{"uid":"8289df0b6c17ba0e","name":"RT_001: Refund (Visa) - should refund an existing sale transaction in the current batch.","fullName":"test/specs/refund/RT_001.e2e.js#Sprint 27: Payconnect 2.0 Terminal (Visa) - Refund.RT_001: Refund (Visa) - should refund an existing sale transaction in the current batch.","historyId":"c937c0b9293cd7aae98dc710824b62de","time":{"start":1768356844142,"stop":1768356906419,"duration":62277},"description":"The system should successfully settle all transactions in the current batch, and a settlement report or receipt should be printed.\n\n### Preconditions\n1. There must be at least one successful sale or void transaction.\n2. The terminal must be connected to a stable internet connection.","descriptionHtml":"<p>The system should successfully settle all transactions in the current batch, and a settlement report or receipt should be printed.</p>\n<h3>Preconditions</h3>\n<ol>\n<li>There must be at least one successful sale or void transaction.</li>\n<li>The terminal must be connected to a stable internet connection.</li>\n</ol>\n","status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[],"testStage":{"description":"The system should successfully settle all transactions in the current batch, and a settlement report or receipt should be printed.\n\n### Preconditions\n1. There must be at least one successful sale or void transaction.\n2. The terminal must be connected to a stable internet connection.","status":"passed","steps":[{"name":"1. Launch the Payconnect application","time":{"start":1768356844150,"stop":1768356846128,"duration":1978},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"2. Process sale transaction.","time":{"start":1768356846128,"stop":1768356875414,"duration":29286},"status":"passed","steps":[{"name":"2.1. Tap the Accept Payment button.","time":{"start":1768356846129,"stop":1768356850362,"duration":4233},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"2.2. Input the transaction amount.","time":{"start":1768356850362,"stop":1768356855456,"duration":5094},"status":"passed","steps":[{"name":"2.2.1. Set Amount: ₱ 200","time":{"start":1768356850362,"stop":1768356852402,"duration":2040},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"2.3. Tap the Card payment button.","time":{"start":1768356855456,"stop":1768356856465,"duration":1009},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"2.4. Choose the card type.","time":{"start":1768356856465,"stop":1768356857308,"duration":843},"status":"passed","steps":[{"name":"2.4.1. Account Type: CREDIT","time":{"start":1768356856466,"stop":1768356857308,"duration":842},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"2.5. Pay the transaction.","time":{"start":1768356857308,"stop":1768356866210,"duration":8902},"status":"passed","steps":[{"name":"2.5.1. Waiting for payment.","time":{"start":1768356857308,"stop":1768356857732,"duration":424},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"2.5.2. Processing payment.","time":{"start":1768356857732,"stop":1768356857940,"duration":208},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"2.5.3. Payment confirmed.","time":{"start":1768356857940,"stop":1768356865709,"duration":7769},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"2.5.4. Take a screenshot.","time":{"start":1768356865709,"stop":1768356866210,"duration":501},"status":"passed","steps":[{"name":"Screenshot_RT_001_1.png","time":{"start":1768356866210,"stop":1768356866210,"duration":0},"status":"unknown","steps":[],"attachments":[{"uid":"cf5f3dac110bb79d","name":"Screenshot_RT_001_1.png","source":"cf5f3dac110bb79d.png","type":"image/png","size":49709}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":true}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":1,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":5,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},{"name":"2.6. Print transaction receipt.","time":{"start":1768356866210,"stop":1768356871029,"duration":4819},"status":"passed","steps":[{"name":"2.6.1. Take a screenshot.","time":{"start":1768356870407,"stop":1768356871029,"duration":622},"status":"passed","steps":[{"name":"Screenshot_RT_001_2.png","time":{"start":1768356871029,"stop":1768356871029,"duration":0},"status":"unknown","steps":[],"attachments":[{"uid":"b2bb6008fea1cf6f","name":"Screenshot_RT_001_2.png","source":"b2bb6008fea1cf6f.png","type":"image/png","size":173749}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":true}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":1,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":2,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},{"name":"2.7. Extract the generated receipt.","time":{"start":1768356871029,"stop":1768356875414,"duration":4385},"status":"passed","steps":[{"name":"2.7.1. Attach a file.","time":{"start":1768356872691,"stop":1768356872691,"duration":0},"status":"passed","steps":[{"name":"Receipt Details Sale.","time":{"start":1768356872691,"stop":1768356872691,"duration":0},"status":"unknown","steps":[],"attachments":[{"uid":"7f699d5f6980e950","name":"Receipt Details Sale.","source":"7f699d5f6980e950.json","type":"application/json","size":462}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":true}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":1,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":2,"attachmentsCount":1,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":18,"attachmentsCount":3,"hasContent":true,"attachmentStep":false},{"name":"3. Process a refund transaction.","time":{"start":1768356875415,"stop":1768356903194,"duration":27779},"status":"passed","steps":[{"name":"3.1. Tap the Refund Transaction button.","time":{"start":1768356875415,"stop":1768356876336,"duration":921},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"3.2. Input the transaction retrival reference number.","time":{"start":1768356876336,"stop":1768356881382,"duration":5046},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"3.3. Enter refund transaction amount.","time":{"start":1768356881382,"stop":1768356886785,"duration":5403},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"3.4. Select the card type.","time":{"start":1768356886786,"stop":1768356887574,"duration":788},"status":"passed","steps":[{"name":"3.4.1. Tap the credit button.","time":{"start":1768356886786,"stop":1768356887574,"duration":788},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"3.5. Printing transaction receipt.","time":{"start":1768356887574,"stop":1768356901591,"duration":14017},"status":"passed","steps":[{"name":"3.5.1. Take a screenshot.","time":{"start":1768356901013,"stop":1768356901591,"duration":578},"status":"passed","steps":[{"name":"Screenshot_RT_001_3.png","time":{"start":1768356901591,"stop":1768356901591,"duration":0},"status":"unknown","steps":[],"attachments":[{"uid":"a657340c82116711","name":"Screenshot_RT_001_3.png","source":"a657340c82116711.png","type":"image/png","size":171617}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":true}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":1,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":2,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},{"name":"3.6. Extract the generated void receipt.","time":{"start":1768356901591,"stop":1768356903194,"duration":1603},"status":"passed","steps":[{"name":"3.6.1. Attach a file.","time":{"start":1768356903193,"stop":1768356903194,"duration":1},"status":"passed","steps":[{"name":"Receipt Details Refund.","time":{"start":1768356903194,"stop":1768356903194,"duration":0},"status":"unknown","steps":[],"attachments":[{"uid":"326f94cf6f8642d0","name":"Receipt Details Refund.","source":"326f94cf6f8642d0.json","type":"application/json","size":464}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":true}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":1,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":2,"attachmentsCount":1,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":11,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"4. Verify Transaction Receipt Details.","time":{"start":1768356903194,"stop":1768356903224,"duration":30},"status":"passed","steps":[{"name":"4.1. Chai Assertion: merchant information on the receipt should match the configured merchant details.","time":{"start":1768356903218,"stop":1768356903223,"duration":5},"status":"passed","steps":[{"name":"Attachment Chai Assertion:","time":{"start":1768356903220,"stop":1768356903220,"duration":0},"status":"unknown","steps":[],"attachments":[{"uid":"4804fa4ac0d26993","name":"Attachment Chai Assertion:","source":"4804fa4ac0d26993.json","type":"application/json","size":431}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":true}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},{"name":"4.2. Chai Assertion: card and transaction information on the receipt should match.","time":{"start":1768356903223,"stop":1768356903224,"duration":1},"status":"passed","steps":[{"name":"Attachment Chai Assertion:","time":{"start":1768356903223,"stop":1768356903223,"duration":0},"status":"unknown","steps":[],"attachments":[{"uid":"c23ff6d1ab5fe9fd","name":"Attachment Chai Assertion:","source":"c23ff6d1ab5fe9fd.json","type":"application/json","size":513}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":true}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":1,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":4,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"5. Exit the Payconnect application.","time":{"start":1768356903224,"stop":1768356906419,"duration":3195},"status":"passed","steps":[{"name":"5.1. Input Terminal Password.","time":{"start":1768356904009,"stop":1768356905465,"duration":1456},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":39,"attachmentsCount":7,"hasContent":true,"attachmentStep":false},"afterStages":[],"labels":[{"name":"parentSuite","value":"Sprint 27: Payconnect 2.0 Terminal (Visa) - Refund"},{"name":"package","value":"F"},{"name":"language","value":"javascript"},{"name":"framework","value":"wdio"},{"name":"thread","value":"0-0"},{"name":"epic","value":"Payconnect 2.0 Terminal"},{"name":"feature","value":"Sprint 27"},{"name":"owner","value":"Jerome Encinares"},{"name":"story","value":"Refund"},{"name":"tag","value":"Sprint 27"},{"name":"tag","value":"Payconnect 2.0 Terminal"},{"name":"tag","value":"Refund"},{"name":"severity","value":"normal"},{"name":"resultFormat","value":"allure2"}],"parameters":[{"name":"Card Number:","value":"**** **** **** 0029"},{"name":"Refund Amount","value":"7000"},{"name":"Retrival Reference Number","value":"601410000009"},{"name":"Terminal Password","value":"123456"},{"name":"Transaction Amount:","value":"₱ 200"},{"name":"device","value":"00023382825"}],"links":[{"name":"Payconnect 2.0 Portal","url":"https://undefined-dashboard.payconnect.io/"},{"name":"Open Project: #61624","url":"https://project.apollo.com.ph/projects/terminal/work_packages/61624/activity","type":"issue"}],"hidden":false,"retry":false,"extra":{"severity":"normal","owner":"Jerome Encinares","retries":[],"categories":[],"tags":["Sprint 27","Refund","Payconnect 2.0 Terminal"]},"source":"8289df0b6c17ba0e.json","parameterValues":["**** **** **** 0029","7000","601410000009","123456","₱ 200","00023382825"]}