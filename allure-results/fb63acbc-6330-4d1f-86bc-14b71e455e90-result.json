{"uuid":"fb63acbc-6330-4d1f-86bc-14b71e455e90","name":"AP_003: Accept Payment - Visa (Tap, Debit Savings) should be processed successfully.","historyId":"f6d1cfcb66827f1f5317980eec7a14ef","status":"failed","statusDetails":{"message":"expected { merchant: 'Appium Merch', …(9) } to have deep property 'maskedPan' of '************0029', but got '************undefined'      \n      actual expected\n      \n      '************undefined0029'\n      ","trace":"AssertionError: expected { merchant: 'Appium Merch', …(9) } to have deep property 'maskedPan' of '************0029', but got '************undefined'\n    at file:///F:/Project/appium-payconnect-master/helpers/customAssertion.js:37:38\n    at file:///F:/Project/appium-payconnect-master/helpers/customSteps.js:16:30\n    at <anonymous> (F:\\Project\\appium-payconnect-master\\node_modules\\allure-js-commons\\src\\facade.ts:113:48)\n    at <anonymous> (F:\\Project\\appium-payconnect-master\\node_modules\\allure-js-commons\\src\\sdk\\runtime\\MessageTestRuntime.ts:175:28)\n    at Generator.next (<anonymous>)\n    at asyncGeneratorStep (file:///F:/Project/appium-payconnect-master/node_modules/allure-js-commons/dist/esm/sdk/runtime/MessageTestRuntime.js:6:70)\n    at _next (file:///F:/Project/appium-payconnect-master/node_modules/allure-js-commons/dist/esm/sdk/runtime/MessageTestRuntime.js:7:163)"},"stage":"finished","steps":[{"status":"passed","statusDetails":{},"stage":"finished","steps":[{"status":"passed","statusDetails":{},"stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1768962632805,"name":"1.1. Tap the Accept Payment button.","stop":1768962641008},{"status":"passed","statusDetails":{},"stage":"finished","steps":[{"status":"passed","statusDetails":{},"stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1768962641009,"name":"1.2.1. Set Amount: ₱ 500","stop":1768962643852}],"attachments":[],"parameters":[],"start":1768962641008,"name":"1.2. Input the transaction amount.","stop":1768962646979},{"status":"passed","statusDetails":{},"stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1768962646979,"name":"1.3. Tap the Card payment button.","stop":1768962648232},{"status":"passed","statusDetails":{},"stage":"finished","steps":[{"status":"passed","statusDetails":{},"stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1768962648232,"name":"1.4.1. Account Type: DEBIT","stop":1768962649100},{"status":"passed","statusDetails":{},"stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1768962649100,"name":"1.4.2. Debit Account Type: SAVINGS","stop":1768962649891}],"attachments":[],"parameters":[],"start":1768962648232,"name":"1.4. Choose the card type.","stop":1768962649891},{"status":"passed","statusDetails":{},"stage":"finished","steps":[{"status":"passed","statusDetails":{},"stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1768962649891,"name":"1.5.1. Waiting for payment.","stop":1768962650493},{"status":"passed","statusDetails":{},"stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1768962650493,"name":"1.5.2. Processing payment.","stop":1768962650645},{"status":"passed","statusDetails":{},"stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1768962650645,"name":"1.5.3. Payment confirmed.","stop":1768962657118},{"status":"passed","statusDetails":{},"stage":"finished","steps":[{"name":"Screenshot_AP_003.png","attachments":[{"name":"Screenshot_AP_003.png","source":"d1f90852-684b-418c-a3f7-823f4b67706f-attachment.png","type":"image/png"}],"start":1768962657634,"stop":1768962657634}],"attachments":[],"parameters":[],"start":1768962657118,"name":"1.5.4. Take a screenshot.","stop":1768962657634}],"attachments":[],"parameters":[],"start":1768962649891,"name":"1.5. Pay the transaction.","stop":1768962657634},{"status":"passed","statusDetails":{},"stage":"finished","steps":[{"status":"passed","statusDetails":{},"stage":"finished","steps":[{"name":"Screenshot_AP_003.png","attachments":[{"name":"Screenshot_AP_003.png","source":"d83fc3a3-e70d-4673-aeff-141fa17851b1-attachment.png","type":"image/png"}],"start":1768962662606,"stop":1768962662606}],"attachments":[],"parameters":[],"start":1768962661980,"name":"1.6.1. Take a screenshot.","stop":1768962662606}],"attachments":[],"parameters":[],"start":1768962657634,"name":"1.6. Print transaction receipt.","stop":1768962662606},{"status":"passed","statusDetails":{},"stage":"finished","steps":[{"status":"passed","statusDetails":{},"stage":"finished","steps":[{"name":"Receipt Details Sale.","attachments":[{"name":"Receipt Details Sale.","source":"649b8e41-5bf9-4393-9d54-0c42718b9119-attachment.json","type":"application/json"}],"start":1768962664545,"stop":1768962664545}],"attachments":[],"parameters":[],"start":1768962664544,"name":"1.7.1. Attach a file.","stop":1768962664545}],"attachments":[],"parameters":[],"start":1768962662606,"name":"1.7. Extract the generated receipt.","stop":1768962667776}],"attachments":[],"parameters":[],"start":1768962632805,"name":"1. Process sale transaction.","stop":1768962667776},{"status":"failed","statusDetails":{"message":"expected { merchant: 'Appium Merch', …(9) } to have deep property 'maskedPan' of '************0029', but got '************undefined'","trace":"AssertionError: expected { merchant: 'Appium Merch', …(9) } to have deep property 'maskedPan' of '************0029', but got '************undefined'\n    at file:///F:/Project/appium-payconnect-master/helpers/customAssertion.js:37:38\n    at file:///F:/Project/appium-payconnect-master/helpers/customSteps.js:16:30\n    at <anonymous> (F:\\Project\\appium-payconnect-master\\node_modules\\allure-js-commons\\src\\facade.ts:113:48)\n    at <anonymous> (F:\\Project\\appium-payconnect-master\\node_modules\\allure-js-commons\\src\\sdk\\runtime\\MessageTestRuntime.ts:175:28)\n    at Generator.next (<anonymous>)\n    at asyncGeneratorStep (file:///F:/Project/appium-payconnect-master/node_modules/allure-js-commons/dist/esm/sdk/runtime/MessageTestRuntime.js:6:70)\n    at _next (file:///F:/Project/appium-payconnect-master/node_modules/allure-js-commons/dist/esm/sdk/runtime/MessageTestRuntime.js:7:163)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","actual":"************undefined","expected":"************0029"},"stage":"finished","steps":[{"status":"passed","statusDetails":{},"stage":"finished","steps":[{"name":"Attachment Chai Assertion:","attachments":[{"name":"Attachment Chai Assertion:","source":"e203729f-c4d2-47e9-aaed-939a3807db67-attachment.json","type":"application/json"}],"start":1768962667805,"stop":1768962667805}],"attachments":[],"parameters":[],"start":1768962667802,"name":"2.1. Chai Assertion: merchant information on the receipt should match the configured merchant details.","stop":1768962667805},{"status":"failed","statusDetails":{"message":"expected { merchant: 'Appium Merch', …(9) } to have deep property 'maskedPan' of '************0029', but got '************undefined'","trace":"AssertionError: expected { merchant: 'Appium Merch', …(9) } to have deep property 'maskedPan' of '************0029', but got '************undefined'\n    at file:///F:/Project/appium-payconnect-master/helpers/customAssertion.js:37:38\n    at file:///F:/Project/appium-payconnect-master/helpers/customSteps.js:16:30\n    at <anonymous> (F:\\Project\\appium-payconnect-master\\node_modules\\allure-js-commons\\src\\facade.ts:113:48)\n    at <anonymous> (F:\\Project\\appium-payconnect-master\\node_modules\\allure-js-commons\\src\\sdk\\runtime\\MessageTestRuntime.ts:175:28)\n    at Generator.next (<anonymous>)\n    at asyncGeneratorStep (file:///F:/Project/appium-payconnect-master/node_modules/allure-js-commons/dist/esm/sdk/runtime/MessageTestRuntime.js:6:70)\n    at _next (file:///F:/Project/appium-payconnect-master/node_modules/allure-js-commons/dist/esm/sdk/runtime/MessageTestRuntime.js:7:163)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","actual":"************undefined","expected":"************0029"},"stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1768962667805,"name":"2.2. Chai Assertion: card and transaction information on the receipt should match.","stop":1768962667812}],"attachments":[],"parameters":[],"start":1768962667776,"name":"2. Verify receipt.","stop":1768962667812},{"name":"Sprint 27: Payconnect 2.0 Terminal (Visa) - Accept Payment #AP_003 - Error Logs","attachments":[{"name":"Sprint 27: Payconnect 2.0 Terminal (Visa) - Accept Payment #AP_003 - Error Logs","source":"20874a12-f022-47ad-8551-785e5df78ae9-attachment.txt","type":"text/plain"}],"start":1768962670522,"stop":1768962670522}],"attachments":[],"parameters":[{"name":"device","value":"00023382825"},{"name":"Transaction Amount:","value":"₱ 500"},{"name":"Card Number:","value":"**** **** **** 0029"}],"labels":[{"name":"parentSuite","value":"Sprint 27: Payconnect 2.0 Terminal (Visa) - Accept Payment"},{"name":"package","value":"F"},{"name":"language","value":"javascript"},{"name":"framework","value":"wdio"},{"name":"thread","value":"0-0"},{"name":"epic","value":"Payconnect 2.0 Terminal"},{"name":"feature","value":"Sprint 27"},{"name":"owner","value":"Jerome Encinares"},{"name":"story","value":"Sale"},{"name":"tag","value":"Sprint 27"},{"name":"tag","value":"Payconnect 2.0 Terminal"},{"name":"tag","value":"Sale"},{"name":"severity","value":"normal"}],"links":[{"url":"https://undefined-dashboard.payconnect.io/","name":"Payconnect 2.0 Portal"},{"url":"https://project.apollo.com.ph/projects/undefined/work_packages/61624/activity","type":"issue","name":"Open Project: #61624"}],"start":1768962632797,"testCaseId":"AP_003","fullName":"test/specs/sale/AP_003.e2e.js#Sprint 27: Payconnect 2.0 Terminal (Visa) - Accept Payment.AP_003: Accept Payment - Visa (Tap, Debit Savings) should be processed successfully.","description":"The system should successfully launch the Payconnect application and process card transactions using **Tap** with the account type set to **Debit (Savings Account)**\n\n### Preconditions\n1. Visa is supported by the terminal.\n2. Sale feature is enabled in the terminal.\n3. The transaction amount must be valid and not less than ₱1.00.\n4. Account Type: Debit (Savings).\n5. POS Entry Mode: Tap (T).","stop":1768962670526}